<div class="flex justify-center items-center min-h-screen">
  <div class="bg-white shadow p-4 rounded-md w-1/2 text-center">
    <h1 class="text-2xl font-bold mb-2">Todo App</h1>
    <form
      [formGroup]="form"
      class="flex gap-4 mb-3"
      (submit)="onSubmitForm($event)"
    >
      <input
        type="text"
        formControlName="title"
        placeholder="Ajouter une tache"
        class="flex-grow border bg-[#F8FAFC] border-gray-200 rounded-md outline-none p-2"
      />
      <input type="date" formControlName="deadline" />
      <button
        type="submit"
        [disabled]="form.invalid"
        class="bg-[#0E7490] px-4 text-white rounded-md"
      >
        {{ editTask ? "Editer" : "Ajouter" }}
      </button>
    </form>
    <div
      class="flex justify-between items-center mb-2"
      *ngFor="let task of task$ | async"
    >
      <div class="flex gap-2 items-center">
        <input
          type="checkbox"
          name=""
          [id]="task.id"
          [checked]="task.status"
          (change)="onChangeStatus({ id: task.id, status: task.status })"
        />
        <label
          [for]="task.id"
          [ngClass]="{
            completed: task.status,
            expired: isDateBeforeToday(task.deadline)
          }"
          >{{ task.title }}</label
        >
      </div>
      <div class="flex gap-2">
        <button
          class="bg-green-700 p-1 text-white rounded"
          (click)="editTaskTitle(task)"
        >
          Editer
        </button>
        <button
          class="bg-red-700 p-1 text-white rounded"
          (click)="onDeleteTask(task.id)"
        >
          Supprimer
        </button>
      </div>
    </div>
  </div>
</div>
